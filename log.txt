2020-09-10 09:18:27.427 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-10 09:18:27.447 +07:00 [INF] Hosting environment: Development
2020-09-10 09:18:27.449 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\RoomBookingService
2020-09-10 09:18:27.450 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Rooms  0
2020-09-10 09:18:27.518 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-10 09:18:27.556 +07:00 [INF] Route matched with {action = "Getrooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomBookingService.Models.Rooms.Room]]] Getrooms() on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-10 09:18:28.192 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-10 09:18:28.722 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoomName]
FROM [rooms] AS [r]
2020-09-10 09:18:28.810 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomBookingService.Models.Rooms.Room, RoomBookingService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-09-10 09:18:28.974 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService) in 1411.4474ms
2020-09-10 09:18:28.976 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-10 09:18:28.984 +07:00 [INF] Request finished in 1540.2165ms 200 application/json; charset=utf-8
2020-09-10 09:18:51.234 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Bookings application/json 150
2020-09-10 09:18:51.237 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-10 09:18:51.247 +07:00 [INF] Route matched with {action = "Getbookings", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomBookingService.Models.Bookings.Booking]]] Getbookings() on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-10 09:18:51.277 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-10 09:18:51.444 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To], [r].[Id], [r].[RoomName]
FROM [bookings] AS [b]
INNER JOIN [rooms] AS [r] ON [b].[RoomID] = [r].[Id]
WHERE CASE
    WHEN [b].[To] = GETDATE() THEN 0
    WHEN [b].[To] > GETDATE() THEN 1
    WHEN [b].[To] < GETDATE() THEN -1
END > 0
ORDER BY [b].[From]
2020-09-10 09:18:51.468 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomBookingService.Models.Bookings.Booking, RoomBookingService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-09-10 09:18:51.476 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService) in 229.0905ms
2020-09-10 09:18:51.476 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-10 09:18:51.477 +07:00 [INF] Request finished in 245.4015ms 200 application/json; charset=utf-8
2020-09-10 09:19:04.729 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44366/api/Bookings application/json 150
2020-09-10 09:19:04.733 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService)'
2020-09-10 09:19:04.747 +07:00 [INF] Route matched with {action = "PostBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.Models.Bookings.Booking]] PostBooking(RoomBookingService.Models.Bookings.Booking) on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-10 09:19:04.829 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-10 09:19:04.886 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__booking_RoomID_0='?' (DbType = Int32), @__booking_From_1='?' (DbType = DateTime2), @__booking_To_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To]
FROM [bookings] AS [b]
WHERE ([b].[RoomID] = @__booking_RoomID_0) AND (((CASE
    WHEN [b].[From] = @__booking_From_1 THEN 0
    WHEN [b].[From] > @__booking_From_1 THEN 1
    WHEN [b].[From] < @__booking_From_1 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__booking_From_1 THEN 0
    WHEN [b].[To] > @__booking_From_1 THEN 1
    WHEN [b].[To] < @__booking_From_1 THEN -1
END >= 0)) OR ((CASE
    WHEN [b].[From] = @__booking_To_2 THEN 0
    WHEN [b].[From] > @__booking_To_2 THEN 1
    WHEN [b].[From] < @__booking_To_2 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__booking_To_2 THEN 0
    WHEN [b].[To] > @__booking_To_2 THEN 1
    WHEN [b].[To] < @__booking_To_2 THEN -1
END >= 0)))
2020-09-10 09:19:05.018 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [bookings] ([Description], [From], [MemberEmail], [MemberName], [RoomID], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [bookings]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2020-09-10 09:19:05.066 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.Models.Bookings.Booking'.
2020-09-10 09:19:05.101 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService) in 354.457ms
2020-09-10 09:19:05.102 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService)'
2020-09-10 09:19:05.102 +07:00 [INF] Request finished in 372.9298ms 201 application/json; charset=utf-8
2020-09-10 09:19:12.084 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44366/api/Bookings application/json 150
2020-09-10 09:19:12.085 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService)'
2020-09-10 09:19:12.087 +07:00 [INF] Route matched with {action = "PostBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.Models.Bookings.Booking]] PostBooking(RoomBookingService.Models.Bookings.Booking) on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-10 09:19:12.090 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-10 09:19:12.100 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__booking_RoomID_0='?' (DbType = Int32), @__booking_From_1='?' (DbType = DateTime2), @__booking_To_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To]
FROM [bookings] AS [b]
WHERE ([b].[RoomID] = @__booking_RoomID_0) AND (((CASE
    WHEN [b].[From] = @__booking_From_1 THEN 0
    WHEN [b].[From] > @__booking_From_1 THEN 1
    WHEN [b].[From] < @__booking_From_1 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__booking_From_1 THEN 0
    WHEN [b].[To] > @__booking_From_1 THEN 1
    WHEN [b].[To] < @__booking_From_1 THEN -1
END >= 0)) OR ((CASE
    WHEN [b].[From] = @__booking_To_2 THEN 0
    WHEN [b].[From] > @__booking_To_2 THEN 1
    WHEN [b].[From] < @__booking_To_2 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__booking_To_2 THEN 0
    WHEN [b].[To] > @__booking_To_2 THEN 1
    WHEN [b].[To] < @__booking_To_2 THEN -1
END >= 0)))
2020-09-10 09:19:12.102 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-09-10 09:19:12.109 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService) in 21.6041ms
2020-09-10 09:19:12.109 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService)'
2020-09-10 09:19:12.111 +07:00 [INF] Request finished in 27.1485ms 400 text/plain; charset=utf-8
2020-09-10 09:19:21.893 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44366/api/Bookings application/json 150
2020-09-10 09:19:21.894 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService)'
2020-09-10 09:19:21.895 +07:00 [INF] Route matched with {action = "PostBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.Models.Bookings.Booking]] PostBooking(RoomBookingService.Models.Bookings.Booking) on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-10 09:19:21.900 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-10 09:19:21.908 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__booking_RoomID_0='?' (DbType = Int32), @__booking_From_1='?' (DbType = DateTime2), @__booking_To_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To]
FROM [bookings] AS [b]
WHERE ([b].[RoomID] = @__booking_RoomID_0) AND (((CASE
    WHEN [b].[From] = @__booking_From_1 THEN 0
    WHEN [b].[From] > @__booking_From_1 THEN 1
    WHEN [b].[From] < @__booking_From_1 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__booking_From_1 THEN 0
    WHEN [b].[To] > @__booking_From_1 THEN 1
    WHEN [b].[To] < @__booking_From_1 THEN -1
END >= 0)) OR ((CASE
    WHEN [b].[From] = @__booking_To_2 THEN 0
    WHEN [b].[From] > @__booking_To_2 THEN 1
    WHEN [b].[From] < @__booking_To_2 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__booking_To_2 THEN 0
    WHEN [b].[To] > @__booking_To_2 THEN 1
    WHEN [b].[To] < @__booking_To_2 THEN -1
END >= 0)))
2020-09-10 09:19:21.911 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-09-10 09:19:21.912 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService) in 16.0748ms
2020-09-10 09:19:21.912 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService)'
2020-09-10 09:19:21.913 +07:00 [INF] Request finished in 19.9946ms 400 text/plain; charset=utf-8
2020-09-10 09:19:39.866 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44366/api/Bookings application/json 150
2020-09-10 09:19:39.867 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService)'
2020-09-10 09:19:39.868 +07:00 [INF] Route matched with {action = "PostBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.Models.Bookings.Booking]] PostBooking(RoomBookingService.Models.Bookings.Booking) on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-10 09:19:39.872 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-10 09:19:39.878 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__booking_RoomID_0='?' (DbType = Int32), @__booking_From_1='?' (DbType = DateTime2), @__booking_To_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To]
FROM [bookings] AS [b]
WHERE ([b].[RoomID] = @__booking_RoomID_0) AND (((CASE
    WHEN [b].[From] = @__booking_From_1 THEN 0
    WHEN [b].[From] > @__booking_From_1 THEN 1
    WHEN [b].[From] < @__booking_From_1 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__booking_From_1 THEN 0
    WHEN [b].[To] > @__booking_From_1 THEN 1
    WHEN [b].[To] < @__booking_From_1 THEN -1
END >= 0)) OR ((CASE
    WHEN [b].[From] = @__booking_To_2 THEN 0
    WHEN [b].[From] > @__booking_To_2 THEN 1
    WHEN [b].[From] < @__booking_To_2 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__booking_To_2 THEN 0
    WHEN [b].[To] > @__booking_To_2 THEN 1
    WHEN [b].[To] < @__booking_To_2 THEN -1
END >= 0)))
2020-09-10 09:19:39.882 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [bookings] ([Description], [From], [MemberEmail], [MemberName], [RoomID], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [bookings]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2020-09-10 09:19:39.885 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.Models.Bookings.Booking'.
2020-09-10 09:19:39.886 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService) in 18.0005ms
2020-09-10 09:19:39.886 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService)'
2020-09-10 09:19:39.887 +07:00 [INF] Request finished in 20.6978ms 201 application/json; charset=utf-8
2020-09-10 09:19:45.010 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Bookings application/json 150
2020-09-10 09:19:45.011 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-10 09:19:45.011 +07:00 [INF] Route matched with {action = "Getbookings", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomBookingService.Models.Bookings.Booking]]] Getbookings() on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-10 09:19:45.013 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-10 09:19:45.019 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To], [r].[Id], [r].[RoomName]
FROM [bookings] AS [b]
INNER JOIN [rooms] AS [r] ON [b].[RoomID] = [r].[Id]
WHERE CASE
    WHEN [b].[To] = GETDATE() THEN 0
    WHEN [b].[To] > GETDATE() THEN 1
    WHEN [b].[To] < GETDATE() THEN -1
END > 0
ORDER BY [b].[From]
2020-09-10 09:19:45.023 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomBookingService.Models.Bookings.Booking, RoomBookingService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-09-10 09:19:45.025 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService) in 13.3675ms
2020-09-10 09:19:45.025 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-10 09:19:45.026 +07:00 [INF] Request finished in 16.1061ms 200 application/json; charset=utf-8
2020-09-10 09:30:37.766 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-10 09:30:37.786 +07:00 [INF] Hosting environment: Development
2020-09-10 09:30:37.788 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\RoomBookingService
2020-09-10 09:30:37.789 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Bookings application/json 150
2020-09-10 09:30:37.859 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-10 09:30:37.894 +07:00 [INF] Route matched with {action = "Getbookings", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomBookingService.DTO.Bookings.BookingResponse]]] Getbookings() on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-10 09:30:38.689 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-10 09:30:39.384 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To], [r].[Id], [r].[RoomName]
FROM [bookings] AS [b]
INNER JOIN [rooms] AS [r] ON [b].[RoomID] = [r].[Id]
WHERE CASE
    WHEN [b].[To] = GETDATE() THEN 0
    WHEN [b].[To] > GETDATE() THEN 1
    WHEN [b].[To] < GETDATE() THEN -1
END > 0
ORDER BY [b].[From]
2020-09-10 09:30:39.518 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Bookings.BookingResponse[]'.
2020-09-10 09:30:39.688 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService) in 1788.4745ms
2020-09-10 09:30:39.690 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-10 09:30:39.700 +07:00 [INF] Request finished in 1916.8975ms 200 application/json; charset=utf-8
2020-09-10 09:33:50.078 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-10 09:33:50.099 +07:00 [INF] Hosting environment: Development
2020-09-10 09:33:50.100 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\RoomBookingService
2020-09-10 09:33:50.101 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Bookings/1 application/json 150
2020-09-10 09:33:50.169 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.GetBooking (RoomBookingService)'
2020-09-10 09:33:50.214 +07:00 [INF] Route matched with {action = "GetBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.DTO.Bookings.BookingResponse]] GetBooking(Int32) on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-10 09:33:50.999 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-10 09:33:51.675 +07:00 [INF] Executed DbCommand (69ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To]
FROM [bookings] AS [b]
WHERE [b].[Id] = @__p_0
2020-09-10 09:33:51.713 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2020-09-10 09:33:51.876 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.GetBooking (RoomBookingService) in 1654.0216ms
2020-09-10 09:33:51.878 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.GetBooking (RoomBookingService)'
2020-09-10 09:33:51.886 +07:00 [INF] Request finished in 1791.5803ms 404 application/problem+json; charset=utf-8
2020-09-10 09:34:36.882 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-10 09:34:36.903 +07:00 [INF] Hosting environment: Development
2020-09-10 09:34:36.905 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\RoomBookingService
2020-09-10 09:34:36.906 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Bookings application/json 150
2020-09-10 09:34:36.972 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-10 09:34:37.009 +07:00 [INF] Route matched with {action = "Getbookings", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomBookingService.DTO.Bookings.BookingResponse]]] Getbookings() on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-10 09:34:37.856 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-10 09:34:38.556 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To], [r].[Id], [r].[RoomName]
FROM [bookings] AS [b]
INNER JOIN [rooms] AS [r] ON [b].[RoomID] = [r].[Id]
WHERE CASE
    WHEN [b].[To] = GETDATE() THEN 0
    WHEN [b].[To] > GETDATE() THEN 1
    WHEN [b].[To] < GETDATE() THEN -1
END > 0
ORDER BY [b].[From]
2020-09-10 09:34:38.686 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Bookings.BookingResponse[]'.
2020-09-10 09:34:38.852 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService) in 1836.3817ms
2020-09-10 09:34:38.854 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-10 09:34:38.864 +07:00 [INF] Request finished in 1964.9174ms 200 application/json; charset=utf-8
2020-09-10 09:34:50.857 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Bookings/2013 application/json 150
2020-09-10 09:34:50.884 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.GetBooking (RoomBookingService)'
2020-09-10 09:34:50.897 +07:00 [INF] Route matched with {action = "GetBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.DTO.Bookings.BookingResponse]] GetBooking(Int32) on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-10 09:34:50.936 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-10 09:34:50.995 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To]
FROM [bookings] AS [b]
WHERE [b].[Id] = @__p_0
2020-09-10 09:34:51.003 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Bookings.BookingResponse'.
2020-09-10 09:34:51.004 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.GetBooking (RoomBookingService) in 106.9754ms
2020-09-10 09:34:51.004 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.GetBooking (RoomBookingService)'
2020-09-10 09:34:51.005 +07:00 [INF] Request finished in 147.5832ms 200 application/json; charset=utf-8
2020-09-14 08:32:14.893 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-14 08:32:14.916 +07:00 [INF] Hosting environment: Development
2020-09-14 08:32:14.918 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\RoomBookingService
2020-09-14 08:32:14.922 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Bookings application/json 0
2020-09-14 08:32:14.992 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:32:15.033 +07:00 [INF] Route matched with {action = "Getbookings", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomBookingService.DTO.Bookings.BookingResponse]]] Getbookings() on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-14 08:32:15.847 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:32:16.552 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To], [r].[Id], [r].[RoomName]
FROM [bookings] AS [b]
INNER JOIN [rooms] AS [r] ON [b].[RoomID] = [r].[Id]
WHERE CASE
    WHEN [b].[To] = GETDATE() THEN 0
    WHEN [b].[To] > GETDATE() THEN 1
    WHEN [b].[To] < GETDATE() THEN -1
END > 0
ORDER BY [b].[From]
2020-09-14 08:32:16.677 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Bookings.BookingResponse[]'.
2020-09-14 08:32:16.844 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService) in 1801.0151ms
2020-09-14 08:32:16.846 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:32:16.855 +07:00 [INF] Request finished in 1941.8783ms 200 application/json; charset=utf-8
2020-09-14 08:33:22.384 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Bookings application/json 0
2020-09-14 08:33:22.394 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:33:22.397 +07:00 [INF] Route matched with {action = "Getbookings", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomBookingService.DTO.Bookings.BookingResponse]]] Getbookings() on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-14 08:33:22.429 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:33:22.444 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To], [r].[Id], [r].[RoomName]
FROM [bookings] AS [b]
INNER JOIN [rooms] AS [r] ON [b].[RoomID] = [r].[Id]
WHERE CASE
    WHEN [b].[To] = GETDATE() THEN 0
    WHEN [b].[To] > GETDATE() THEN 1
    WHEN [b].[To] < GETDATE() THEN -1
END > 0
ORDER BY [b].[From]
2020-09-14 08:33:22.448 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Bookings.BookingResponse[]'.
2020-09-14 08:33:22.449 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService) in 51.8783ms
2020-09-14 08:33:22.450 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:33:22.450 +07:00 [INF] Request finished in 71.4086ms 200 application/json; charset=utf-8
2020-09-14 08:33:26.198 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Rooms application/json 0
2020-09-14 08:33:26.204 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-14 08:33:26.213 +07:00 [INF] Route matched with {action = "Getrooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomBookingService.Models.Rooms.Room]]] Getrooms() on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-14 08:33:26.224 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:33:26.235 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoomName]
FROM [rooms] AS [r]
2020-09-14 08:33:26.237 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomBookingService.Models.Rooms.Room, RoomBookingService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-09-14 08:33:26.248 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService) in 34.8861ms
2020-09-14 08:33:26.248 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-14 08:33:26.249 +07:00 [INF] Request finished in 51.5638ms 200 application/json; charset=utf-8
2020-09-14 08:33:43.519 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44366/api/Bookings application/json 64
2020-09-14 08:33:43.521 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService)'
2020-09-14 08:33:43.533 +07:00 [INF] Route matched with {action = "PostBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.Models.Bookings.Booking]] PostBooking(RoomBookingService.Models.Bookings.Booking) on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-14 08:33:43.600 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:33:43.657 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__booking_RoomID_0='?' (DbType = Int32), @__booking_From_1='?' (DbType = DateTime2), @__booking_To_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To]
FROM [bookings] AS [b]
WHERE ([b].[RoomID] = @__booking_RoomID_0) AND (((CASE
    WHEN [b].[From] = @__booking_From_1 THEN 0
    WHEN [b].[From] > @__booking_From_1 THEN 1
    WHEN [b].[From] < @__booking_From_1 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__booking_From_1 THEN 0
    WHEN [b].[To] > @__booking_From_1 THEN 1
    WHEN [b].[To] < @__booking_From_1 THEN -1
END >= 0)) OR ((CASE
    WHEN [b].[From] = @__booking_To_2 THEN 0
    WHEN [b].[From] > @__booking_To_2 THEN 1
    WHEN [b].[From] < @__booking_To_2 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__booking_To_2 THEN 0
    WHEN [b].[To] > @__booking_To_2 THEN 1
    WHEN [b].[To] < @__booking_To_2 THEN -1
END >= 0)))
2020-09-14 08:33:43.820 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [bookings] ([Description], [From], [MemberEmail], [MemberName], [RoomID], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [bookings]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2020-09-14 08:33:43.866 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.Models.Bookings.Booking'.
2020-09-14 08:33:43.904 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService) in 370.7808ms
2020-09-14 08:33:43.904 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService)'
2020-09-14 08:33:43.905 +07:00 [INF] Request finished in 386.058ms 201 application/json; charset=utf-8
2020-09-14 08:33:43.987 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Bookings application/json 0
2020-09-14 08:33:43.987 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:33:43.988 +07:00 [INF] Route matched with {action = "Getbookings", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomBookingService.DTO.Bookings.BookingResponse]]] Getbookings() on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-14 08:33:43.988 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:33:43.991 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To], [r].[Id], [r].[RoomName]
FROM [bookings] AS [b]
INNER JOIN [rooms] AS [r] ON [b].[RoomID] = [r].[Id]
WHERE CASE
    WHEN [b].[To] = GETDATE() THEN 0
    WHEN [b].[To] > GETDATE() THEN 1
    WHEN [b].[To] < GETDATE() THEN -1
END > 0
ORDER BY [b].[From]
2020-09-14 08:33:43.992 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Bookings.BookingResponse[]'.
2020-09-14 08:33:43.993 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService) in 5.1394ms
2020-09-14 08:33:43.993 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:33:43.993 +07:00 [INF] Request finished in 6.3412ms 200 application/json; charset=utf-8
2020-09-14 08:38:43.948 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-14 08:38:43.970 +07:00 [INF] Hosting environment: Development
2020-09-14 08:38:43.972 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\RoomBookingService
2020-09-14 08:38:43.974 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Bookings application/json 0
2020-09-14 08:38:44.050 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:38:44.085 +07:00 [INF] Route matched with {action = "Getbookings", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomBookingService.DTO.Bookings.BookingResponse]]] Getbookings() on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-14 08:38:44.998 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:38:45.739 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To], [r].[Id], [r].[RoomName]
FROM [bookings] AS [b]
INNER JOIN [rooms] AS [r] ON [b].[RoomID] = [r].[Id]
WHERE CASE
    WHEN [b].[To] = GETDATE() THEN 0
    WHEN [b].[To] > GETDATE() THEN 1
    WHEN [b].[To] < GETDATE() THEN -1
END > 0
ORDER BY [b].[From]
2020-09-14 08:38:45.894 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Bookings.BookingResponse[]'.
2020-09-14 08:38:46.122 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService) in 2022.2103ms
2020-09-14 08:38:46.124 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:38:46.139 +07:00 [INF] Request finished in 2172.393ms 200 application/json; charset=utf-8
2020-09-14 08:39:14.590 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Bookings application/json 0
2020-09-14 08:39:14.613 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:39:14.614 +07:00 [INF] Route matched with {action = "Getbookings", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomBookingService.DTO.Bookings.BookingResponse]]] Getbookings() on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-14 08:39:14.654 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:39:14.668 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To], [r].[Id], [r].[RoomName]
FROM [bookings] AS [b]
INNER JOIN [rooms] AS [r] ON [b].[RoomID] = [r].[Id]
WHERE CASE
    WHEN [b].[To] = GETDATE() THEN 0
    WHEN [b].[To] > GETDATE() THEN 1
    WHEN [b].[To] < GETDATE() THEN -1
END > 0
ORDER BY [b].[From]
2020-09-14 08:39:14.672 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Bookings.BookingResponse[]'.
2020-09-14 08:39:14.674 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService) in 59.2702ms
2020-09-14 08:39:14.674 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:39:14.674 +07:00 [INF] Request finished in 84.8025ms 200 application/json; charset=utf-8
2020-09-14 08:39:55.446 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Bookings application/json 0
2020-09-14 08:39:55.450 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:39:55.451 +07:00 [INF] Route matched with {action = "Getbookings", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomBookingService.DTO.Bookings.BookingResponse]]] Getbookings() on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-14 08:39:55.474 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:39:55.485 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To], [r].[Id], [r].[RoomName]
FROM [bookings] AS [b]
INNER JOIN [rooms] AS [r] ON [b].[RoomID] = [r].[Id]
WHERE CASE
    WHEN [b].[To] = GETDATE() THEN 0
    WHEN [b].[To] > GETDATE() THEN 1
    WHEN [b].[To] < GETDATE() THEN -1
END > 0
ORDER BY [b].[From]
2020-09-14 08:39:55.489 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Bookings.BookingResponse[]'.
2020-09-14 08:39:55.492 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService) in 40.4676ms
2020-09-14 08:39:55.492 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:39:55.493 +07:00 [INF] Request finished in 48.8903ms 200 application/json; charset=utf-8
2020-09-14 08:40:25.225 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Bookings application/json 0
2020-09-14 08:40:25.230 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:40:25.237 +07:00 [INF] Route matched with {action = "Getbookings", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomBookingService.DTO.Bookings.BookingResponse]]] Getbookings() on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-14 08:40:25.238 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:40:25.244 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To], [r].[Id], [r].[RoomName]
FROM [bookings] AS [b]
INNER JOIN [rooms] AS [r] ON [b].[RoomID] = [r].[Id]
WHERE CASE
    WHEN [b].[To] = GETDATE() THEN 0
    WHEN [b].[To] > GETDATE() THEN 1
    WHEN [b].[To] < GETDATE() THEN -1
END > 0
ORDER BY [b].[From]
2020-09-14 08:40:25.246 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Bookings.BookingResponse[]'.
2020-09-14 08:40:25.247 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService) in 9.5044ms
2020-09-14 08:40:25.251 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:40:25.252 +07:00 [INF] Request finished in 28.1137ms 200 application/json; charset=utf-8
2020-09-14 08:44:29.948 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-14 08:44:29.969 +07:00 [INF] Hosting environment: Development
2020-09-14 08:44:29.971 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\RoomBookingService
2020-09-14 08:44:29.972 +07:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44366/api/Bookings/2012 application/json 0
2020-09-14 08:44:30.033 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.DeleteBooking (RoomBookingService)'
2020-09-14 08:44:30.078 +07:00 [INF] Route matched with {action = "DeleteBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.DTO.Bookings.BookingResponse]] DeleteBooking(Int32) on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-14 08:44:30.902 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:44:31.609 +07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To]
FROM [bookings] AS [b]
WHERE [b].[Id] = @__p_0
2020-09-14 08:44:31.818 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [bookings]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2020-09-14 08:44:31.863 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Bookings.BookingResponse'.
2020-09-14 08:44:32.034 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.DeleteBooking (RoomBookingService) in 1948.8727ms
2020-09-14 08:44:32.038 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.DeleteBooking (RoomBookingService)'
2020-09-14 08:44:32.051 +07:00 [INF] Request finished in 2086.2912ms 200 application/json; charset=utf-8
2020-09-14 08:44:34.096 +07:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44366/api/Bookings/2011 application/json 0
2020-09-14 08:44:34.102 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.DeleteBooking (RoomBookingService)'
2020-09-14 08:44:34.103 +07:00 [INF] Route matched with {action = "DeleteBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.DTO.Bookings.BookingResponse]] DeleteBooking(Int32) on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-14 08:44:34.131 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:44:34.138 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To]
FROM [bookings] AS [b]
WHERE [b].[Id] = @__p_0
2020-09-14 08:44:34.141 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [bookings]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2020-09-14 08:44:34.144 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Bookings.BookingResponse'.
2020-09-14 08:44:34.145 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.DeleteBooking (RoomBookingService) in 42.5507ms
2020-09-14 08:44:34.145 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.DeleteBooking (RoomBookingService)'
2020-09-14 08:44:34.146 +07:00 [INF] Request finished in 50.0174ms 200 application/json; charset=utf-8
2020-09-14 08:44:35.236 +07:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:44366/api/Bookings/2014 application/json 0
2020-09-14 08:44:35.239 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.DeleteBooking (RoomBookingService)'
2020-09-14 08:44:35.240 +07:00 [INF] Route matched with {action = "DeleteBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.DTO.Bookings.BookingResponse]] DeleteBooking(Int32) on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-14 08:44:35.251 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:44:35.259 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To]
FROM [bookings] AS [b]
WHERE [b].[Id] = @__p_0
2020-09-14 08:44:35.263 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [bookings]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2020-09-14 08:44:35.266 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Bookings.BookingResponse'.
2020-09-14 08:44:35.267 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.DeleteBooking (RoomBookingService) in 26.9288ms
2020-09-14 08:44:35.267 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.DeleteBooking (RoomBookingService)'
2020-09-14 08:44:35.268 +07:00 [INF] Request finished in 32.2066ms 200 application/json; charset=utf-8
2020-09-14 08:44:47.127 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Rooms application/json 0
2020-09-14 08:44:47.130 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-14 08:44:47.135 +07:00 [INF] Route matched with {action = "Getrooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomBookingService.Models.Rooms.Room]]] Getrooms() on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-14 08:44:47.143 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:44:47.151 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoomName]
FROM [rooms] AS [r]
2020-09-14 08:44:47.158 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomBookingService.Models.Rooms.Room, RoomBookingService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-09-14 08:44:47.175 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService) in 39.5294ms
2020-09-14 08:44:47.175 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-14 08:44:47.176 +07:00 [INF] Request finished in 49.1923ms 200 application/json; charset=utf-8
2020-09-14 08:44:54.824 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44366/api/Bookings application/json 64
2020-09-14 08:44:54.826 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService)'
2020-09-14 08:44:54.834 +07:00 [INF] Route matched with {action = "PostBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.Models.Bookings.Booking]] PostBooking(RoomBookingService.Models.Bookings.Booking) on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-14 08:44:54.892 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:44:54.925 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__booking_RoomID_0='?' (DbType = Int32), @__booking_From_1='?' (DbType = DateTime2), @__booking_To_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To]
FROM [bookings] AS [b]
WHERE ([b].[RoomID] = @__booking_RoomID_0) AND (((CASE
    WHEN [b].[From] = @__booking_From_1 THEN 0
    WHEN [b].[From] > @__booking_From_1 THEN 1
    WHEN [b].[From] < @__booking_From_1 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__booking_From_1 THEN 0
    WHEN [b].[To] > @__booking_From_1 THEN 1
    WHEN [b].[To] < @__booking_From_1 THEN -1
END >= 0)) OR ((CASE
    WHEN [b].[From] = @__booking_To_2 THEN 0
    WHEN [b].[From] > @__booking_To_2 THEN 1
    WHEN [b].[From] < @__booking_To_2 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__booking_To_2 THEN 0
    WHEN [b].[To] > @__booking_To_2 THEN 1
    WHEN [b].[To] < @__booking_To_2 THEN -1
END >= 0)))
2020-09-14 08:44:54.963 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [bookings] ([Description], [From], [MemberEmail], [MemberName], [RoomID], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [bookings]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2020-09-14 08:44:54.992 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.Models.Bookings.Booking'.
2020-09-14 08:44:55.029 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService) in 194.8188ms
2020-09-14 08:44:55.029 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService)'
2020-09-14 08:44:55.030 +07:00 [INF] Request finished in 205.31ms 201 application/json; charset=utf-8
2020-09-14 08:44:55.099 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Bookings application/json 0
2020-09-14 08:44:55.099 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:44:55.104 +07:00 [INF] Route matched with {action = "Getbookings", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomBookingService.DTO.Bookings.BookingResponse]]] Getbookings() on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-14 08:44:55.107 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:44:55.162 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To], [r].[Id], [r].[RoomName]
FROM [bookings] AS [b]
INNER JOIN [rooms] AS [r] ON [b].[RoomID] = [r].[Id]
WHERE CASE
    WHEN [b].[To] = GETDATE() THEN 0
    WHEN [b].[To] > GETDATE() THEN 1
    WHEN [b].[To] < GETDATE() THEN -1
END > 0
ORDER BY [b].[From]
2020-09-14 08:44:55.185 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Bookings.BookingResponse[]'.
2020-09-14 08:44:55.187 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService) in 82.2856ms
2020-09-14 08:44:55.187 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:44:55.187 +07:00 [INF] Request finished in 88.5318ms 200 application/json; charset=utf-8
2020-09-14 08:45:32.301 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Rooms application/json 0
2020-09-14 08:45:32.302 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-14 08:45:32.303 +07:00 [INF] Route matched with {action = "Getrooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomBookingService.Models.Rooms.Room]]] Getrooms() on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-14 08:45:32.307 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:45:32.311 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoomName]
FROM [rooms] AS [r]
2020-09-14 08:45:32.312 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomBookingService.Models.Rooms.Room, RoomBookingService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-09-14 08:45:32.313 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService) in 10.1905ms
2020-09-14 08:45:32.313 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-14 08:45:32.314 +07:00 [INF] Request finished in 14.7519ms 200 application/json; charset=utf-8
2020-09-14 08:45:41.735 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44366/api/Bookings application/json 64
2020-09-14 08:45:41.736 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService)'
2020-09-14 08:45:41.737 +07:00 [INF] Route matched with {action = "PostBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.Models.Bookings.Booking]] PostBooking(RoomBookingService.Models.Bookings.Booking) on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-14 08:45:41.740 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:45:41.747 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__booking_RoomID_0='?' (DbType = Int32), @__booking_From_1='?' (DbType = DateTime2), @__booking_To_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To]
FROM [bookings] AS [b]
WHERE ([b].[RoomID] = @__booking_RoomID_0) AND (((CASE
    WHEN [b].[From] = @__booking_From_1 THEN 0
    WHEN [b].[From] > @__booking_From_1 THEN 1
    WHEN [b].[From] < @__booking_From_1 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__booking_From_1 THEN 0
    WHEN [b].[To] > @__booking_From_1 THEN 1
    WHEN [b].[To] < @__booking_From_1 THEN -1
END >= 0)) OR ((CASE
    WHEN [b].[From] = @__booking_To_2 THEN 0
    WHEN [b].[From] > @__booking_To_2 THEN 1
    WHEN [b].[From] < @__booking_To_2 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__booking_To_2 THEN 0
    WHEN [b].[To] > @__booking_To_2 THEN 1
    WHEN [b].[To] < @__booking_To_2 THEN -1
END >= 0)))
2020-09-14 08:45:41.770 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [bookings] ([Description], [From], [MemberEmail], [MemberName], [RoomID], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [bookings]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2020-09-14 08:45:41.774 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.Models.Bookings.Booking'.
2020-09-14 08:45:41.775 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService) in 38.0775ms
2020-09-14 08:45:41.775 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.PostBooking (RoomBookingService)'
2020-09-14 08:45:41.776 +07:00 [INF] Request finished in 40.5995ms 201 application/json; charset=utf-8
2020-09-14 08:45:41.836 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44366/api/Bookings application/json 0
2020-09-14 08:45:41.837 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:45:41.837 +07:00 [INF] Route matched with {action = "Getbookings", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RoomBookingService.DTO.Bookings.BookingResponse]]] Getbookings() on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-14 08:45:41.837 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-14 08:45:41.840 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomID], [b].[To], [r].[Id], [r].[RoomName]
FROM [bookings] AS [b]
INNER JOIN [rooms] AS [r] ON [b].[RoomID] = [r].[Id]
WHERE CASE
    WHEN [b].[To] = GETDATE() THEN 0
    WHEN [b].[To] > GETDATE() THEN 1
    WHEN [b].[To] < GETDATE() THEN -1
END > 0
ORDER BY [b].[From]
2020-09-14 08:45:41.842 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Bookings.BookingResponse[]'.
2020-09-14 08:45:41.843 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService) in 5.861ms
2020-09-14 08:45:41.844 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.Getbookings (RoomBookingService)'
2020-09-14 08:45:41.844 +07:00 [INF] Request finished in 8.5153ms 200 application/json; charset=utf-8
2020-09-15 08:35:40.345 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 08:35:40.366 +07:00 [INF] Hosting environment: Development
2020-09-15 08:35:40.368 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\RoomBookingService
2020-09-15 08:35:40.368 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:2003/bookings application/json 86
2020-09-15 08:35:40.377 +07:00 [WRN] Failed to determine the https port for redirect.
2020-09-15 08:35:40.430 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.CreateBookingAsync (RoomBookingService)'
2020-09-15 08:35:40.475 +07:00 [INF] Route matched with {action = "CreateBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBookingAsync(RoomBookingService.DTO.Bookings.BookingCreateRequest) on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-15 08:35:41.529 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 08:35:42.251 +07:00 [ERR] Failed executing DbCommand (72ms) [Parameters=[@__request_RoomId_0='?' (DbType = Int32), @__request_From_1='?' (DbType = DateTime2), @__request_To_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomId], [b].[To]
FROM [Bookings] AS [b]
WHERE ([b].[RoomId] = @__request_RoomId_0) AND (((CASE
    WHEN [b].[From] = @__request_From_1 THEN 0
    WHEN [b].[From] > @__request_From_1 THEN 1
    WHEN [b].[From] < @__request_From_1 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__request_From_1 THEN 0
    WHEN [b].[To] > @__request_From_1 THEN 1
    WHEN [b].[To] < @__request_From_1 THEN -1
END >= 0)) OR ((CASE
    WHEN [b].[From] = @__request_To_2 THEN 0
    WHEN [b].[From] > @__request_To_2 THEN 1
    WHEN [b].[From] < @__request_To_2 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__request_To_2 THEN 0
    WHEN [b].[To] > @__request_To_2 THEN 1
    WHEN [b].[To] < @__request_To_2 THEN -1
END >= 0)))
2020-09-15 08:35:42.317 +07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'RoomBookingService.Models.BookingServiceContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'RoomId'.
Invalid column name 'RoomId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2e2fea91-3415-49d1-a457-81d0b604caf7
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'RoomId'.
Invalid column name 'RoomId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2e2fea91-3415-49d1-a457-81d0b604caf7
Error Number:207,State:1,Class:16
2020-09-15 08:35:42.476 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.CreateBookingAsync (RoomBookingService) in 1994.5512ms
2020-09-15 08:35:42.479 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.CreateBookingAsync (RoomBookingService)'
2020-09-15 08:35:42.610 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'RoomId'.
Invalid column name 'RoomId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at RoomBookingService.Services.Implements.BookingService.CreateBookingAsync(BookingCreateRequest request) in D:\NetCore\Gateway.API\RoomBookingService\Services\Implements\BookingService.cs:line 55
   at RoomBookingService.Controllers.BookingsController.CreateBookingAsync(BookingCreateRequest request) in D:\NetCore\Gateway.API\RoomBookingService\Controllers\BookingsController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Shared.Serilog.SerilogMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in D:\NetCore\Gateway.API\Shared\Serilog\SerilogMiddleware.cs:line 24
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:2e2fea91-3415-49d1-a457-81d0b604caf7
Error Number:207,State:1,Class:16
2020-09-15 08:35:42.666 +07:00 [INF] Request finished in 2304.4203ms 500 text/plain
2020-09-15 08:38:38.894 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 08:38:39.205 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2020-09-15 08:38:39.233 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-09-15 08:38:39.237 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2020-09-15 08:38:39.237 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-09-15 08:38:39.256 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-09-15 08:38:39.275 +07:00 [INF] Reverting migration '20200819063219_AddDescriptionColumn'.
2020-09-15 08:38:39.334 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[bookings]') AND [c].[name] = N'Description');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [bookings] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [bookings] DROP COLUMN [Description];
2020-09-15 08:38:39.336 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20200819063219_AddDescriptionColumn';
2020-09-15 08:38:39.342 +07:00 [INF] Reverting migration '20200819063035_BookingInit'.
2020-09-15 08:38:39.348 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [bookings];
2020-09-15 08:38:39.350 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [rooms];
2020-09-15 08:38:39.350 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20200819063035_BookingInit';
2020-09-15 08:39:29.123 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 08:39:29.411 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2020-09-15 08:39:29.440 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-09-15 08:39:29.443 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2020-09-15 08:39:29.444 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-09-15 08:39:29.463 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-09-15 08:39:29.484 +07:00 [INF] Applying migration '20200819063035_BookingInit'.
2020-09-15 08:39:29.539 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [rooms] (
    [Id] int NOT NULL IDENTITY,
    [RoomName] nvarchar(max) NULL,
    CONSTRAINT [PK_rooms] PRIMARY KEY ([Id])
);
2020-09-15 08:39:29.541 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [bookings] (
    [Id] int NOT NULL IDENTITY,
    [RoomID] int NOT NULL,
    [MemberName] nvarchar(max) NULL,
    [MemberEmail] nvarchar(max) NULL,
    [From] datetime2 NOT NULL,
    [To] datetime2 NOT NULL,
    CONSTRAINT [PK_bookings] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_bookings_rooms_RoomID] FOREIGN KEY ([RoomID]) REFERENCES [rooms] ([Id]) ON DELETE CASCADE
);
2020-09-15 08:39:29.543 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_bookings_RoomID] ON [bookings] ([RoomID]);
2020-09-15 08:39:29.545 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200819063035_BookingInit', N'3.1.7');
2020-09-15 08:39:29.550 +07:00 [INF] Applying migration '20200819063219_AddDescriptionColumn'.
2020-09-15 08:39:29.555 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [bookings] ADD [Description] nvarchar(max) NULL;
2020-09-15 08:39:29.556 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200819063219_AddDescriptionColumn', N'3.1.7');
2020-09-15 08:39:29.556 +07:00 [INF] Applying migration '20200907025223_add-leave-request'.
2020-09-15 08:39:29.563 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [leaveRequests] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    [LeaveDates] datetime2 NOT NULL,
    [LeaveTime] nvarchar(max) NULL,
    [LeaveTypeId] int NOT NULL,
    [Reason] nvarchar(max) NULL,
    CONSTRAINT [PK_leaveRequests] PRIMARY KEY ([Id])
);
2020-09-15 08:39:29.565 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [leaveTypes] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    CONSTRAINT [PK_leaveTypes] PRIMARY KEY ([Id])
);
2020-09-15 08:39:29.565 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200907025223_add-leave-request', N'3.1.7');
2020-09-15 08:40:26.291 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 08:40:26.658 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2020-09-15 08:40:26.686 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-09-15 08:40:26.706 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-09-15 08:40:44.196 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 08:40:44.477 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2020-09-15 08:40:44.505 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-09-15 08:40:44.508 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2020-09-15 08:40:44.509 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-09-15 08:40:44.527 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-09-15 08:40:44.547 +07:00 [INF] Reverting migration '20200907025223_add-leave-request'.
2020-09-15 08:40:44.576 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [leaveRequests];
2020-09-15 08:40:44.578 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [leaveTypes];
2020-09-15 08:40:44.579 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20200907025223_add-leave-request';
2020-09-15 08:40:44.585 +07:00 [INF] Reverting migration '20200819063219_AddDescriptionColumn'.
2020-09-15 08:40:44.608 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[bookings]') AND [c].[name] = N'Description');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [bookings] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [bookings] DROP COLUMN [Description];
2020-09-15 08:40:44.609 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20200819063219_AddDescriptionColumn';
2020-09-15 08:40:44.609 +07:00 [INF] Reverting migration '20200819063035_BookingInit'.
2020-09-15 08:40:44.612 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [bookings];
2020-09-15 08:40:44.613 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [rooms];
2020-09-15 08:40:44.613 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20200819063035_BookingInit';
2020-09-15 08:40:57.620 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 08:40:57.995 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2020-09-15 08:40:58.022 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-09-15 08:40:58.040 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-09-15 08:41:09.447 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 08:41:09.736 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2020-09-15 08:41:09.766 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-09-15 08:41:09.769 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2020-09-15 08:41:09.770 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-09-15 08:41:09.789 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-09-15 08:41:09.810 +07:00 [INF] Applying migration '20200819063035_BookingInit'.
2020-09-15 08:41:09.860 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [rooms] (
    [Id] int NOT NULL IDENTITY,
    [RoomName] nvarchar(max) NULL,
    CONSTRAINT [PK_rooms] PRIMARY KEY ([Id])
);
2020-09-15 08:41:09.862 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [bookings] (
    [Id] int NOT NULL IDENTITY,
    [RoomID] int NOT NULL,
    [MemberName] nvarchar(max) NULL,
    [MemberEmail] nvarchar(max) NULL,
    [From] datetime2 NOT NULL,
    [To] datetime2 NOT NULL,
    CONSTRAINT [PK_bookings] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_bookings_rooms_RoomID] FOREIGN KEY ([RoomID]) REFERENCES [rooms] ([Id]) ON DELETE CASCADE
);
2020-09-15 08:41:09.863 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_bookings_RoomID] ON [bookings] ([RoomID]);
2020-09-15 08:41:09.864 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200819063035_BookingInit', N'3.1.7');
2020-09-15 08:41:09.870 +07:00 [INF] Applying migration '20200819063219_AddDescriptionColumn'.
2020-09-15 08:41:09.875 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [bookings] ADD [Description] nvarchar(max) NULL;
2020-09-15 08:41:09.876 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200819063219_AddDescriptionColumn', N'3.1.7');
2020-09-15 08:41:55.963 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 08:41:55.985 +07:00 [INF] Hosting environment: Development
2020-09-15 08:41:55.987 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\RoomBookingService
2020-09-15 08:41:55.992 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:2003/bookings application/json 86
2020-09-15 08:41:56.001 +07:00 [WRN] Failed to determine the https port for redirect.
2020-09-15 08:41:56.083 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.CreateBookingAsync (RoomBookingService)'
2020-09-15 08:41:56.125 +07:00 [INF] Route matched with {action = "CreateBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBookingAsync(RoomBookingService.DTO.Bookings.BookingCreateRequest) on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-15 08:41:57.160 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 08:41:57.827 +07:00 [INF] Executed DbCommand (64ms) [Parameters=[@__request_RoomId_0='?' (DbType = Int32), @__request_From_1='?' (DbType = DateTime2), @__request_To_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomId], [b].[To]
FROM [Bookings] AS [b]
WHERE ([b].[RoomId] = @__request_RoomId_0) AND (((CASE
    WHEN [b].[From] = @__request_From_1 THEN 0
    WHEN [b].[From] > @__request_From_1 THEN 1
    WHEN [b].[From] < @__request_From_1 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__request_From_1 THEN 0
    WHEN [b].[To] > @__request_From_1 THEN 1
    WHEN [b].[To] < @__request_From_1 THEN -1
END >= 0)) OR ((CASE
    WHEN [b].[From] = @__request_To_2 THEN 0
    WHEN [b].[From] > @__request_To_2 THEN 1
    WHEN [b].[From] < @__request_To_2 THEN -1
END <= 0) AND (CASE
    WHEN [b].[To] = @__request_To_2 THEN 0
    WHEN [b].[To] > @__request_To_2 THEN 1
    WHEN [b].[To] < @__request_To_2 THEN -1
END >= 0)))
2020-09-15 08:41:58.055 +07:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([Description], [From], [MemberEmail], [MemberName], [RoomId], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Bookings]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2020-09-15 08:41:58.114 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'RoomBookingService.Models.BookingServiceContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_bookings_rooms_RoomID". The conflict occurred in database "NetCoreRoomBooking", table "dbo.rooms", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0b49902a-9c30-4a0f-8307-fc554ef6044d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_bookings_rooms_RoomID". The conflict occurred in database "NetCoreRoomBooking", table "dbo.rooms", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0b49902a-9c30-4a0f-8307-fc554ef6044d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-09-15 08:41:58.308 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.CreateBookingAsync (RoomBookingService) in 2176.093ms
2020-09-15 08:41:58.310 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.CreateBookingAsync (RoomBookingService)'
2020-09-15 08:41:58.458 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_bookings_rooms_RoomID". The conflict occurred in database "NetCoreRoomBooking", table "dbo.rooms", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0b49902a-9c30-4a0f-8307-fc554ef6044d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RoomBookingService.Services.Implements.BookingService.CreateBookingAsync(BookingCreateRequest request) in D:\NetCore\Gateway.API\RoomBookingService\Services\Implements\BookingService.cs:line 67
   at RoomBookingService.Controllers.BookingsController.CreateBookingAsync(BookingCreateRequest request) in D:\NetCore\Gateway.API\RoomBookingService\Controllers\BookingsController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Shared.Serilog.SerilogMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in D:\NetCore\Gateway.API\Shared\Serilog\SerilogMiddleware.cs:line 24
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-09-15 08:41:58.503 +07:00 [INF] Request finished in 2519.1836ms 500 text/plain
2020-09-15 08:42:09.819 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2003/bookings application/json 86
2020-09-15 08:42:09.902 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.BookingsController.GetBookingAsync (RoomBookingService)'
2020-09-15 08:42:09.935 +07:00 [INF] Route matched with {action = "GetBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookingAsync(RoomBookingService.DTO.Bookings.BookingListRequest) on controller RoomBookingService.Controllers.BookingsController (RoomBookingService).
2020-09-15 08:42:09.969 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 08:42:10.033 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Description], [b].[From], [b].[MemberEmail], [b].[MemberName], [b].[RoomId], [b].[To], [r].[Id], [r].[RoomName]
FROM [Bookings] AS [b]
INNER JOIN [Rooms] AS [r] ON [b].[RoomId] = [r].[Id]
WHERE CASE
    WHEN [b].[To] = GETDATE() THEN 0
    WHEN [b].[To] > GETDATE() THEN 1
    WHEN [b].[To] < GETDATE() THEN -1
END > 0
ORDER BY [b].[From]
2020-09-15 08:42:10.056 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomBookingService.DTO.Bookings.BookingListResponse, RoomBookingService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-09-15 08:42:10.108 +07:00 [INF] Executed action RoomBookingService.Controllers.BookingsController.GetBookingAsync (RoomBookingService) in 172.2622ms
2020-09-15 08:42:10.108 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.BookingsController.GetBookingAsync (RoomBookingService)'
2020-09-15 08:42:10.109 +07:00 [INF] Request finished in 289.7214ms 200 application/json; charset=utf-8
2020-09-15 09:22:18.380 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 09:22:18.400 +07:00 [INF] Hosting environment: Development
2020-09-15 09:22:18.401 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\RoomBookingService
2020-09-15 09:22:18.402 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2003/rooms application/json 86
2020-09-15 09:22:18.412 +07:00 [WRN] Failed to determine the https port for redirect.
2020-09-15 09:22:18.471 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-15 09:22:18.508 +07:00 [INF] Route matched with {action = "Getrooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[RoomBookingService.DTO.Rooms.RoomListResponse]]] Getrooms() on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-15 09:22:19.349 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 09:22:19.894 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoomName]
FROM [Rooms] AS [r]
2020-09-15 09:22:19.943 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomBookingService.DTO.Rooms.RoomListResponse, RoomBookingService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-09-15 09:22:20.097 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService) in 1582.6083ms
2020-09-15 09:22:20.099 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-15 09:22:20.110 +07:00 [INF] Request finished in 1714.1457ms 200 application/json; charset=utf-8
2020-09-15 09:22:45.085 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:2003/rooms application/json 32
2020-09-15 09:22:45.089 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.PostRoom (RoomBookingService)'
2020-09-15 09:22:45.109 +07:00 [INF] Route matched with {action = "PostRoom", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.DTO.Rooms.RoomCreateResponse]] PostRoom(RoomBookingService.DTO.Rooms.RoomCreateRequest) on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-15 09:22:45.202 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 09:22:45.406 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Rooms] ([RoomName])
VALUES (@p0);
SELECT [Id]
FROM [Rooms]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2020-09-15 09:22:45.457 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Rooms.RoomCreateResponse'.
2020-09-15 09:22:45.474 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.PostRoom (RoomBookingService) in 365.232ms
2020-09-15 09:22:45.474 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.PostRoom (RoomBookingService)'
2020-09-15 09:22:45.475 +07:00 [INF] Request finished in 394.609ms 200 application/json; charset=utf-8
2020-09-15 09:24:57.552 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 09:24:57.575 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2003/rooms application/json 32
2020-09-15 09:24:57.576 +07:00 [INF] Hosting environment: Development
2020-09-15 09:24:57.578 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\RoomBookingService
2020-09-15 09:24:57.585 +07:00 [WRN] Failed to determine the https port for redirect.
2020-09-15 09:24:57.646 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-15 09:24:57.682 +07:00 [INF] Route matched with {action = "Getrooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[RoomBookingService.DTO.Rooms.RoomListResponse]]] Getrooms() on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-15 09:24:58.510 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 09:24:59.056 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoomName]
FROM [Rooms] AS [r]
2020-09-15 09:24:59.160 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomBookingService.DTO.Rooms.RoomListResponse, RoomBookingService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-09-15 09:24:59.322 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService) in 1634.2228ms
2020-09-15 09:24:59.324 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-15 09:24:59.334 +07:00 [INF] Request finished in 1765.3336ms 200 application/json; charset=utf-8
2020-09-15 09:25:15.131 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:2003/rooms application/json 30
2020-09-15 09:25:15.135 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.PostRoom (RoomBookingService)'
2020-09-15 09:25:15.152 +07:00 [INF] Route matched with {action = "PostRoom", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.DTO.Rooms.RoomCreateResponse]] PostRoom(RoomBookingService.DTO.Rooms.RoomCreateRequest) on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-15 09:25:15.254 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 09:25:15.419 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Rooms] ([RoomName])
VALUES (@p0);
SELECT [Id]
FROM [Rooms]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2020-09-15 09:25:15.467 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Rooms.RoomCreateResponse'.
2020-09-15 09:25:15.470 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.PostRoom (RoomBookingService) in 317.8476ms
2020-09-15 09:25:15.470 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.PostRoom (RoomBookingService)'
2020-09-15 09:25:15.470 +07:00 [INF] Request finished in 339.7842ms 200 application/json; charset=utf-8
2020-09-15 09:25:19.762 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2003/rooms application/json 30
2020-09-15 09:25:19.765 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-15 09:25:19.766 +07:00 [INF] Route matched with {action = "Getrooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[RoomBookingService.DTO.Rooms.RoomListResponse]]] Getrooms() on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-15 09:25:19.774 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 09:25:19.779 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoomName]
FROM [Rooms] AS [r]
2020-09-15 09:25:19.781 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomBookingService.DTO.Rooms.RoomListResponse, RoomBookingService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-09-15 09:25:19.782 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService) in 15.8744ms
2020-09-15 09:25:19.782 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-15 09:25:19.782 +07:00 [INF] Request finished in 20.6126ms 200 application/json; charset=utf-8
2020-09-15 09:25:26.793 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2003/rooms/1 application/json 30
2020-09-15 09:25:26.794 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService)'
2020-09-15 09:25:26.802 +07:00 [INF] Route matched with {action = "GetRoom", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.DTO.Rooms.RoomDetailResponse]] GetRoom(Int32) on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-15 09:25:26.806 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 09:25:26.896 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[RoomName]
FROM [Rooms] AS [r]
WHERE [r].[Id] = @__p_0
2020-09-15 09:25:26.905 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Rooms.RoomDetailResponse'.
2020-09-15 09:25:26.911 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService) in 108.9871ms
2020-09-15 09:25:26.911 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService)'
2020-09-15 09:25:26.912 +07:00 [INF] Request finished in 119.3779ms 200 application/json; charset=utf-8
2020-09-15 09:25:49.758 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2003/rooms/2 application/json 51
2020-09-15 09:25:49.768 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService)'
2020-09-15 09:25:49.769 +07:00 [INF] Route matched with {action = "GetRoom", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.DTO.Rooms.RoomDetailResponse]] GetRoom(Int32) on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-15 09:25:49.771 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 09:25:49.785 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[RoomName]
FROM [Rooms] AS [r]
WHERE [r].[Id] = @__p_0
2020-09-15 09:25:49.786 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Rooms.RoomDetailResponse'.
2020-09-15 09:25:49.787 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService) in 17.9444ms
2020-09-15 09:25:49.788 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService)'
2020-09-15 09:25:49.788 +07:00 [INF] Request finished in 29.824ms 200 application/json; charset=utf-8
2020-09-15 09:28:14.624 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 09:28:14.645 +07:00 [INF] Hosting environment: Development
2020-09-15 09:28:14.646 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\RoomBookingService
2020-09-15 09:28:14.646 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2003/rooms/2 application/json 51
2020-09-15 09:28:14.655 +07:00 [WRN] Failed to determine the https port for redirect.
2020-09-15 09:28:14.715 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService)'
2020-09-15 09:28:14.767 +07:00 [INF] Route matched with {action = "GetRoom", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.DTO.Rooms.RoomDetailResponse]] GetRoom(Int32) on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-15 09:28:15.700 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 09:28:16.376 +07:00 [INF] Executed DbCommand (65ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[RoomName]
FROM [Rooms] AS [r]
WHERE [r].[Id] = @__p_0
2020-09-15 09:28:16.480 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Rooms.RoomDetailResponse'.
2020-09-15 09:28:16.642 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService) in 1868.6638ms
2020-09-15 09:28:16.643 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService)'
2020-09-15 09:28:16.652 +07:00 [INF] Request finished in 2012.0297ms 200 application/json; charset=utf-8
2020-09-15 09:29:07.005 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 09:29:07.026 +07:00 [INF] Hosting environment: Development
2020-09-15 09:29:07.028 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\RoomBookingService
2020-09-15 09:29:07.029 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:2003/rooms/2 application/json 51
2020-09-15 09:29:07.038 +07:00 [WRN] Failed to determine the https port for redirect.
2020-09-15 09:29:07.095 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.PutRoom (RoomBookingService)'
2020-09-15 09:29:07.139 +07:00 [INF] Route matched with {action = "PutRoom", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.DTO.Rooms.RoomUpdateResponse]] PutRoom(Int32, RoomBookingService.DTO.Rooms.RoomUpdateRequest) on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-15 09:29:08.233 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 09:29:08.820 +07:00 [INF] Executed DbCommand (64ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rooms] SET [RoomName] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2020-09-15 09:29:08.877 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Rooms.RoomUpdateResponse'.
2020-09-15 09:29:08.931 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.PutRoom (RoomBookingService) in 1785.8995ms
2020-09-15 09:29:08.933 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.PutRoom (RoomBookingService)'
2020-09-15 09:29:08.943 +07:00 [INF] Request finished in 1921.6954ms 200 application/json; charset=utf-8
2020-09-15 09:29:14.489 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2003/rooms application/json 51
2020-09-15 09:29:14.495 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-15 09:29:14.502 +07:00 [INF] Route matched with {action = "Getrooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[RoomBookingService.DTO.Rooms.RoomListResponse]]] Getrooms() on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-15 09:29:14.536 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 09:29:14.684 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoomName]
FROM [Rooms] AS [r]
2020-09-15 09:29:14.712 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomBookingService.DTO.Rooms.RoomListResponse, RoomBookingService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-09-15 09:29:14.722 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService) in 219.6646ms
2020-09-15 09:29:14.722 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-15 09:29:14.724 +07:00 [INF] Request finished in 235.1704ms 200 application/json; charset=utf-8
2020-09-15 09:42:38.568 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 09:42:38.588 +07:00 [INF] Hosting environment: Development
2020-09-15 09:42:38.590 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\RoomBookingService
2020-09-15 09:42:38.592 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2003/rooms application/json 51
2020-09-15 09:42:38.601 +07:00 [WRN] Failed to determine the https port for redirect.
2020-09-15 09:42:38.666 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-15 09:42:38.700 +07:00 [INF] Route matched with {action = "Getrooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[RoomBookingService.DTO.Rooms.RoomListResponse]]] Getrooms() on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-15 09:42:40.266 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomBookingService.DTO.Rooms.RoomListResponse, RoomBookingService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-09-15 09:42:40.438 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService) in 1731.8995ms
2020-09-15 09:42:40.443 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-15 09:42:40.452 +07:00 [INF] Request finished in 1866.2798ms 200 application/json; charset=utf-8
2020-09-15 09:42:48.964 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2003/rooms/1 application/json 51
2020-09-15 09:42:48.967 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService)'
2020-09-15 09:42:48.984 +07:00 [INF] Route matched with {action = "GetRoom", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.DTO.Rooms.RoomDetailResponse]] GetRoom(Int32) on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-15 09:42:49.230 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Rooms.RoomDetailResponse'.
2020-09-15 09:42:49.235 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService) in 251.2948ms
2020-09-15 09:42:49.235 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService)'
2020-09-15 09:42:49.236 +07:00 [INF] Request finished in 271.6887ms 200 application/json; charset=utf-8
2020-09-15 09:44:02.259 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 09:44:02.280 +07:00 [INF] Hosting environment: Development
2020-09-15 09:44:02.281 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\RoomBookingService
2020-09-15 09:44:02.283 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2003/rooms/1 application/json 51
2020-09-15 09:44:02.292 +07:00 [WRN] Failed to determine the https port for redirect.
2020-09-15 09:44:02.352 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService)'
2020-09-15 09:44:02.398 +07:00 [INF] Route matched with {action = "GetRoom", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.DTO.Rooms.RoomDetailResponse]] GetRoom(Int32) on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-15 09:44:03.251 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 09:44:03.925 +07:00 [INF] Executed DbCommand (65ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[RoomName]
FROM [Rooms] AS [r]
WHERE [r].[Id] = @__p_0
2020-09-15 09:44:04.029 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Rooms.RoomDetailResponse'.
2020-09-15 09:44:04.193 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService) in 1788.6655ms
2020-09-15 09:44:04.196 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService)'
2020-09-15 09:44:04.205 +07:00 [INF] Request finished in 1928.0199ms 200 application/json; charset=utf-8
2020-09-15 09:58:54.056 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 09:58:54.088 +07:00 [INF] Hosting environment: Development
2020-09-15 09:58:54.089 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\RoomBookingService
2020-09-15 09:58:54.092 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2003/rooms/1 application/json 51
2020-09-15 09:58:54.101 +07:00 [WRN] Failed to determine the https port for redirect.
2020-09-15 09:58:54.164 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService)'
2020-09-15 09:58:54.206 +07:00 [INF] Route matched with {action = "GetRoom", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.DTO.Rooms.RoomDetailResponse]] GetRoom(Int32) on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-15 09:58:55.079 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 09:58:55.775 +07:00 [INF] Executed DbCommand (71ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[RoomName]
FROM [Rooms] AS [r]
WHERE [r].[Id] = @__p_0
2020-09-15 09:58:55.879 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Rooms.RoomDetailResponse'.
2020-09-15 09:58:56.041 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService) in 1828.9989ms
2020-09-15 09:58:56.044 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService)'
2020-09-15 09:58:56.053 +07:00 [INF] Request finished in 1967.2681ms 200 application/json; charset=utf-8
2020-09-15 09:59:13.245 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2003/rooms/1 application/json 51
2020-09-15 09:59:13.249 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService)'
2020-09-15 09:59:13.250 +07:00 [INF] Route matched with {action = "GetRoom", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.DTO.Rooms.RoomDetailResponse]] GetRoom(Int32) on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-15 09:59:13.286 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 09:59:13.298 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[RoomName]
FROM [Rooms] AS [r]
WHERE [r].[Id] = @__p_0
2020-09-15 09:59:13.300 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Rooms.RoomDetailResponse'.
2020-09-15 09:59:13.301 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService) in 50.5721ms
2020-09-15 09:59:13.301 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService)'
2020-09-15 09:59:13.302 +07:00 [INF] Request finished in 57.0327ms 200 application/json; charset=utf-8
2020-09-15 10:02:11.197 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 10:02:11.217 +07:00 [INF] Hosting environment: Development
2020-09-15 10:02:11.219 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\RoomBookingService
2020-09-15 10:02:11.220 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2003/rooms/1 application/json 51
2020-09-15 10:02:11.229 +07:00 [WRN] Failed to determine the https port for redirect.
2020-09-15 10:02:11.296 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService)'
2020-09-15 10:02:11.344 +07:00 [INF] Route matched with {action = "GetRoom", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RoomBookingService.DTO.Rooms.RoomDetailResponse]] GetRoom(Int32) on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-15 10:02:12.195 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 10:02:12.864 +07:00 [INF] Executed DbCommand (63ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[RoomName]
FROM [Rooms] AS [r]
WHERE [r].[Id] = @__p_0
2020-09-15 10:02:12.973 +07:00 [INF] Executing ObjectResult, writing value of type 'RoomBookingService.DTO.Rooms.RoomDetailResponse'.
2020-09-15 10:02:13.137 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService) in 1787.9984ms
2020-09-15 10:02:13.139 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.GetRoom (RoomBookingService)'
2020-09-15 10:02:13.149 +07:00 [INF] Request finished in 1935.5925ms 200 application/json; charset=utf-8
2020-09-15 10:02:22.437 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2003/rooms application/json 51
2020-09-15 10:02:22.441 +07:00 [INF] Executing endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-15 10:02:22.446 +07:00 [INF] Route matched with {action = "Getrooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[RoomBookingService.DTO.Rooms.RoomListResponse]]] Getrooms() on controller RoomBookingService.Controllers.RoomsController (RoomBookingService).
2020-09-15 10:02:22.483 +07:00 [INF] Entity Framework Core 3.1.7 initialized 'BookingServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-09-15 10:02:22.494 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoomName]
FROM [Rooms] AS [r]
2020-09-15 10:02:22.504 +07:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[RoomBookingService.DTO.Rooms.RoomListResponse, RoomBookingService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-09-15 10:02:22.508 +07:00 [INF] Executed action RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService) in 62.0858ms
2020-09-15 10:02:22.508 +07:00 [INF] Executed endpoint 'RoomBookingService.Controllers.RoomsController.Getrooms (RoomBookingService)'
2020-09-15 10:02:22.509 +07:00 [INF] Request finished in 71.9584ms 200 application/json; charset=utf-8
2020-09-15 10:20:18.873 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 10:20:18.909 +07:00 [INF] Hosting environment: Development
2020-09-15 10:20:18.911 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\Gateway
2020-09-15 10:20:18.920 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2000/bookings/rooms application/json 51
2020-09-15 10:20:19.085 +07:00 [INF] requestId: 8000001c-0000-f500-b63f-84710c7967bb, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /{everything}
2020-09-15 10:20:22.175 +07:00 [INF] requestId: 8000001c-0000-f500-b63f-84710c7967bb, previousRequestId: no previous request id, message: /{everything} route does not require user to be authorised
2020-09-15 10:20:25.995 +07:00 [INF] requestId: 8000001c-0000-f500-b63f-84710c7967bb, previousRequestId: no previous request id, message: 200 (OK) status code, request uri: http://localhost:2003/rooms
2020-09-15 10:20:26.035 +07:00 [INF] Request finished in 7122.5112ms 200 application/json; charset=utf-8
2020-09-15 10:23:30.771 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 10:23:30.801 +07:00 [INF] Hosting environment: Development
2020-09-15 10:23:30.803 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\Gateway
2020-09-15 10:23:30.808 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2000/bookings/rooms application/json 51
2020-09-15 10:23:30.938 +07:00 [INF] requestId: 800000a0-0002-f500-b63f-84710c7967bb, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /{everything}
2020-09-15 10:23:33.890 +07:00 [INF] requestId: 800000a0-0002-f500-b63f-84710c7967bb, previousRequestId: no previous request id, message: /{everything} route does not require user to be authorised
2020-09-15 10:23:37.828 +07:00 [INF] requestId: 800000a0-0002-f500-b63f-84710c7967bb, previousRequestId: no previous request id, message: 200 (OK) status code, request uri: http://localhost:2003/rooms
2020-09-15 10:23:37.872 +07:00 [INF] Request finished in 7069.8621ms 200 application/json; charset=utf-8
2020-09-15 10:58:58.146 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 10:58:58.209 +07:00 [INF] Hosting environment: Development
2020-09-15 10:58:58.210 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\Gateway
2020-09-15 10:58:58.254 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2000/bookings/rooms application/json 51
2020-09-15 10:58:58.384 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'Shared.Exceptions.ServiceExceptionMiddleware' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.MiddlewareAnalysis.AnalysisMiddleware.Invoke(HttpContext httpContext)
   at Shared.Serilog.SerilogMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in D:\NetCore\Gateway.API\Shared\Serilog\SerilogMiddleware.cs:line 23
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.MiddlewareAnalysis.AnalysisMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.MiddlewareAnalysis.AnalysisMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-09-15 10:58:58.653 +07:00 [INF] Request finished in 402.6248ms 500 text/plain
2020-09-15 11:03:04.734 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 11:03:04.775 +07:00 [INF] Hosting environment: Development
2020-09-15 11:03:04.776 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\Gateway
2020-09-15 11:03:04.783 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2000/bookings/rooms application/json 51
2020-09-15 11:03:04.970 +07:00 [INF] requestId: 800000c1-0002-fe00-b63f-84710c7967bb, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /{everything}
2020-09-15 11:03:09.118 +07:00 [INF] requestId: 800000c1-0002-fe00-b63f-84710c7967bb, previousRequestId: no previous request id, message: /{everything} route does not require user to be authorised
2020-09-15 11:03:12.254 +07:00 [WRN] requestId: 800000c1-0002-fe00-b63f-84710c7967bb, previousRequestId: no previous request id, message: 500 (Internal Server Error) status code, request uri: http://localhost:2003/rooms
2020-09-15 11:03:12.297 +07:00 [INF] Request finished in 7517.5125ms 500 text/plain
2020-09-15 11:05:30.806 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 11:05:30.853 +07:00 [INF] Hosting environment: Development
2020-09-15 11:05:30.855 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\Gateway
2020-09-15 11:05:30.870 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2000/bookings/rooms application/json 51
2020-09-15 11:05:31.002 +07:00 [INF] requestId: 8000007e-0000-f800-b63f-84710c7967bb, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /{everything}
2020-09-15 11:05:33.900 +07:00 [INF] requestId: 8000007e-0000-f800-b63f-84710c7967bb, previousRequestId: no previous request id, message: /{everything} route does not require user to be authorised
2020-09-15 11:05:36.474 +07:00 [WRN] requestId: 8000007e-0000-f800-b63f-84710c7967bb, previousRequestId: no previous request id, message: 500 (Internal Server Error) status code, request uri: http://localhost:2003/rooms
2020-09-15 11:05:36.509 +07:00 [INF] Request finished in 5643.016ms 500 
2020-09-15 11:08:11.332 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 11:08:11.357 +07:00 [INF] Hosting environment: Development
2020-09-15 11:08:11.358 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\Gateway
2020-09-15 11:08:11.360 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2000/bookings/rooms application/json 51
2020-09-15 11:08:11.485 +07:00 [INF] requestId: 80000032-0003-fc00-b63f-84710c7967bb, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /{everything}
2020-09-15 11:08:14.432 +07:00 [INF] requestId: 80000032-0003-fc00-b63f-84710c7967bb, previousRequestId: no previous request id, message: /{everything} route does not require user to be authorised
2020-09-15 11:08:16.925 +07:00 [INF] requestId: 80000032-0003-fc00-b63f-84710c7967bb, previousRequestId: no previous request id, message: 200 (OK) status code, request uri: http://localhost:2003/rooms
2020-09-15 11:08:16.963 +07:00 [INF] Request finished in 5605.967ms 200 
2020-09-15 11:10:16.302 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 11:10:16.328 +07:00 [INF] Hosting environment: Development
2020-09-15 11:10:16.329 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\Gateway
2020-09-15 11:10:16.330 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2000/bookings/rooms application/json 51
2020-09-15 11:10:16.456 +07:00 [INF] requestId: 80000070-0002-f700-b63f-84710c7967bb, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /{everything}
2020-09-15 11:10:19.536 +07:00 [INF] requestId: 80000070-0002-f700-b63f-84710c7967bb, previousRequestId: no previous request id, message: /{everything} route does not require user to be authorised
2020-09-15 11:10:22.046 +07:00 [WRN] requestId: 80000070-0002-f700-b63f-84710c7967bb, previousRequestId: no previous request id, message: 404 (Not Found) status code, request uri: http://localhost:2003/rooms
2020-09-15 11:10:22.084 +07:00 [INF] Request finished in 5758.3595ms 404 application/json
2020-09-15 11:13:11.642 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-15 11:13:11.672 +07:00 [INF] Hosting environment: Development
2020-09-15 11:13:11.673 +07:00 [INF] Content root path: D:\NetCore\Gateway.API\Gateway
2020-09-15 11:13:11.676 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:2000/bookings/rooms application/json 51
2020-09-15 11:13:11.818 +07:00 [INF] requestId: 80000082-0000-f800-b63f-84710c7967bb, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /{everything}
2020-09-15 11:13:14.700 +07:00 [INF] requestId: 80000082-0000-f800-b63f-84710c7967bb, previousRequestId: no previous request id, message: /{everything} route does not require user to be authorised
2020-09-15 11:13:17.191 +07:00 [WRN] requestId: 80000082-0000-f800-b63f-84710c7967bb, previousRequestId: no previous request id, message: 404 (Not Found) status code, request uri: http://localhost:2003/rooms
2020-09-15 11:13:17.227 +07:00 [INF] Request finished in 5554.5677ms 404 application/json
